#!/bin/sh

dir=$(readlink $0)

if [ x$dir == x ] ;
then
	dir=$(cd $(dirname "$1") && pwd -P)
else
	#startswith
	if [[ $dir != /* ]] ;
	then
		dir=$(cd $(dirname "$1") && pwd -P)/$dir
	fi
	dir=$(dirname $dir)
fi

if [ x$1 == x ] ;
then
	echo 'rssh {allias|ls|add|rm|edit}'
elif [ $1 == 'install' ] ;
then
	ln -s $dir/rssh /usr/local/bin/rssh
elif [ $1 == 'ls' ] || [ $1 == 'add' ] || [ $1 == 'rm' ] || [ $1 == 'edit' ] ;
then
	python $dir/rssh.py $@
else
	expect $dir/rssh.ex $@
fi
